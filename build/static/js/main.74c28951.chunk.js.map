{"version":3,"sources":["services/persons.js","components/ShowNames.js","components/NewPerson.js","components/Filter.js","components/Notifications.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","NewPerson","post","id","put","delete","Person","person","setPersons","personsToShow","setMessage","name","number","onClick","deletePerson","console","log","window","confirm","personService","filter","n","setTimeout","ShowNames","map","key","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","newFilter","handleFilterChange","Notification","message","className","App","useState","persons","setNewName","setNewNumber","showAll","setShowAll","setNewFilter","useEffect","initialPersons","toLowerCase","match","Notifications","event","target","preventDefault","personObj","i","length","alert","result","personObj_number","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74c28951.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = NewPerson => {\r\n    const request = axios.post(baseUrl, NewPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, NewPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, NewPerson)\r\n    return request.then(response => {\r\n        return response.data\r\n    })\r\n}\r\n\r\nconst deleteId = (id) => {\r\n    axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, deleteId }","import React from 'react';\r\nimport personService from '../services/persons'\r\n\r\nconst ShowNames = ( {personsToShow, setPersons, setMessage} ) => {\r\n    return (\r\n      <ul>\r\n        {personsToShow.map((person) =>\r\n        <Person key={person.name} person={person} setPersons={setPersons} personsToShow={personsToShow} setMessage={setMessage}/> \r\n        )}\r\n        </ul>\r\n    )\r\n  }\r\n\r\n  const Person = ({ person, setPersons, personsToShow, setMessage }) => {\r\n    return (\r\n    <li>{person.name} {person.number} <button onClick={() => deletePerson(person, setPersons, personsToShow, setMessage)}>delete</button></li>\r\n    )\r\n  }\r\n\r\n  const deletePerson = (person, setPersons, personsToShow, setMessage) => {\r\n    console.log(person)\r\n    const result = window.confirm(`Delete ${person.name}?`)\r\n    \r\n    if (result === true) {\r\n      console.log(`Poistetaan ${person.name}`)\r\n      personService.deleteId(person.id)\r\n      setPersons(personsToShow.filter(n => n.id !== person.id))\r\n      setMessage(\r\n        `Deleted ${person.name}`\r\n      )\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  export default ShowNames","import React from 'react';\r\n\r\nconst NewPerson = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n    return (\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: <input \r\n          value={newName}\r\n          onChange={handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: <input \r\n          value={newNumber}\r\n          onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  export default NewPerson","import React from 'react';\r\n\r\nconst Filter = ({newFilter, handleFilterChange}) => {\r\n\r\n    return (\r\n      <div>\r\n        filter shown with: <input \r\n         value={newFilter} onChange={handleFilterChange}\r\n        />\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import React from 'react';\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport ShowNames from './components/ShowNames'\nimport NewPerson from './components/NewPerson'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notifications from './components/Notifications'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [showAll, setShowAll] = useState(true)\n  const [ newFilter, setNewFilter ] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n    .getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    const personObj = {\n      name: newName,\n      number: newNumber\n    }\n\n    for (let i = 0; i < persons.length; i++) {\n      if (personObj.name === persons[i].name) {\n        if (personObj.number === persons[i].number) {\n          alert(`${personObj.name} is already added to phonebook`)\n          setNewName('')\n          setNewNumber('')\n          return\n        }\n        const result = window.confirm(`${personObj.name} is already added to phonebook, replace the old number with a new one?`)\n\n        if (result === true) {\n          const personObj_number = {\n            name: persons[i].name,\n            number: newNumber\n          }\n\n          personService\n          .update(persons[i].id, personObj_number)\n          setNewName('')\n          setNewNumber('')\n          setMessage(\n            `${persons[i].name} phone number changed to ${personObj_number.number}`\n          )\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n          return \n        }\n        else if (result === false) {\n          setNewName('')\n          setNewNumber('')\n          return\n        }\n      }\n    }\n\n    personService\n    .create(personObj)\n    .then(returnedPerson => {\n      console.log(returnedPerson)\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n      setMessage(\n        `Added ${returnedPerson.name}`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 5000)\n    })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    if (event.target.value === \"\") setShowAll(true)\n\n    setNewFilter(event.target.value)\n    setShowAll(false)\n  }\n\n\n  const personsToShow = showAll\n    ? persons \n    : persons.filter(person => person.name.toLowerCase().match(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notifications message={message} />\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <h2>add a new</h2>\n      <NewPerson addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <ShowNames personsToShow={personsToShow} setPersons={setPersons} setMessage={setMessage}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}